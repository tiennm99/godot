version: 2.1

jobs:
  build:
    machine:
      image: windows-server-2022-gui:current
      resource_class: windows.large
      shell: powershell.exe -ExecutionPolicy Bypass
    steps:
      - checkout
      - run:
          name: Setup
          command: python -m pip install scons
      - run:
          name: Compile
          command: scons platform=windows precision=double
      - store_artifacts:
          path: bin

workflows:
  build-windows:
    jobs:
      - build
